
<!-- saved from url=(0022)http://idarbek.com/p5/ -->
<html><head>
<title>
    p5.js example
</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><script src="p5.min.js"></script>
  <script>
    var circle = 1;
    var rectangle = 0;
    var curX = [0];
    var curY = [0];
    var offset = [0];
    var n = 0;
    var A = 50;//Width of circle
    var SPEED = 1;//Speed of Line
    function setup() {
      createCanvas(windowWidth, windowHeight);
      background(255);
    }
    function draw() {
      clear();
      if(mouseIsPressed)
      {
        curX[n] = mouseX;
        curY[n] = mouseY;
        offset[n] = 0;
        n++;
      }
      for(var i = 0; i < n; i++)
      {
        if(circle)
          ellipse(curX[i], curY[i], 1 + offset[i], 1 + offset[i]);
        else
          rect(curX[i] - (1 + offset[i]) / 2, curY[i] - (1 + offset[i]) / 2, 1 + offset[i], 1 + offset[i]);
        offset[i] += SPEED;
        if(offset[i] > A - 1)
          offset[i] = 0;
      }
    }
    function switch_rect()
    {
      rectangle = 1;
      circle = 0;
    }
    function switch_circle()
    {
      rectangle = 0;
      circle = 1;
    }
    function save1()
    {
      var speed = int(document.getElementById('speed').value);
      if(!speed)
        speed = 1;
     var radius = int(document.getElementById('radius').value);
      if(!radius)
        radius = 1;
      console.log(speed);
      console.log(radius);
      if(document.getElementById('speed').value.length)
        SPEED = speed;
      if(document.getElementById('radius').value.length)
        A = radius;  
    }
    function clear_all()
    {
      n = 0;
    }
  </script>
  </head>
  <body>
    <button onclick="clear_all()">
        Clear
    </button>
    <button onclick="switch_rect()">
        Rectangle
    </button>
    <button onclick="switch_circle()">
        Circle
    </button>
    <input type="text" id="speed" placeholder="Speed">
    <input type="text" id="radius" placeholder="Radius or width">
    <button onclick="save1()">
        Save
    </button>
  </body>
</html>